# 开发者工具使用指南 (独立窗口版本)

## 问题解决

原问题：开发者工具被WhatsApp web窗口覆盖，看不到控制台
解决方案：开发者工具现在在独立的窗口中打开，不会被任何界面覆盖

## 新功能特性

### ✅ 独立窗口模式
- 开发者工具现在在单独的窗口中打开
- 不会被WhatsApp web界面覆盖
- 可以独立拖拽和调整大小
- 在屏幕右侧显示，不影响主应用窗口

### ✅ 自动聚焦管理
- 打开开发者工具后，主窗口会自动获得焦点
- 确保WhatsApp界面可以正常使用
- 用户可以轻松切换到开发者工具窗口查看输出

### ✅ 智能快捷键
- **F12**: 打开/关闭开发者工具（独立窗口）
- **Ctrl+Shift+I** (Windows/Linux): 打开/关闭开发者工具
- **Cmd+Opt+I** (macOS): 打开/关闭开发者工具
- 所有快捷键都使用独立窗口模式

## 使用方法

### 启动应用
```bash
npm run dev
```

### 开发者工具将自动：
1. 在应用启动1秒后自动打开
2. 在屏幕右侧以独立窗口显示
3. 主窗口自动获得焦点，保持WhatsApp界面可用
4. 控制台输出显示在开发者工具中

### 手动控制
1. **按 F12** - 打开/关闭开发者工具（独立窗口）
2. **Ctrl+Shift+I** (Windows/Linux) - 打开/关闭开发者工具
3. **Cmd+Opt+I** (macOS) - 打开/关闭开发者工具

## 开发者工具功能

### Console 面板
- ✅ 查看应用日志输出
- ✅ 查看JavaScript错误
- ✅ 测试JavaScript代码
- ✅ 监控React组件更新

### Elements 面板
- ✅ 查看DOM结构
- ✅ 检查CSS样式
- ✅ 实时修改页面样式

### Network 面板
- ✅ 监控API请求
- ✅ 查看响应数据
- ✅ 分析加载性能

### Application 面板
- ✅ 查看本地存储数据
- ✅ 检查会话信息
- ✅ 管理IndexedDB数据

### Performance 面板
- ✅ 监控页面性能
- ✅ 分析渲染时间
- ✅ 检查内存使用情况

## 故障排除

### 问题：开发者工具窗口没有出现
**解决方案**：
1. 确认使用 `npm run dev` 启动
2. 等待1秒让开发者工具自动打开
3. 检查屏幕右侧是否有开发者工具窗口
4. 按 F12 手动触发

### 问题：开发者工具窗口被最小化
**解决方案**：
1. 查看Windows任务栏
2. 找到"Electron"或"WhatsApp Desktop"图标
3. 右键点击选择"显示所有窗口"或"恢复"

### 问题：开发者工具窗口看不见
**解决方案**：
1. 检查屏幕分辨率设置
2. 使用Windows键+左/右箭头键调整窗口位置
3. 手动拖拽窗口到可见区域

### 问题：控制台没有输出
**解决方案**：
1. 在开发者工具中选择"Console"面板
2. 检查是否有筛选器阻挡了输出
3. 刷新开发者工具窗口 (F5)
4. 在控制台中手动输入 `console.log('test')` 测试

## 窗口管理

### 独立窗口特性
- 开发者工具窗口独立于主应用窗口
- 可以最小化、最大化、关闭
- 主窗口不受开发者工具窗口影响
- 快捷键状态在两个窗口间同步

### 聚焦逻辑
1. 打开开发者工具 → 主窗口自动聚焦
2. 手动切换到开发者工具 → 可以查看控制台
3. 关闭开发者工具 → 主窗口保持焦点

## 代码实现

### 主要修改
1. **MainWindow.js**:
   - `openDeveloperToolsInDetachedWindow()` - 独立窗口打开
   - `forceFocus()` - 强制聚焦到主窗口
   - 改进的快捷键处理器

2. **ipcHandlers.js**:
   - 更新IPC处理器使用独立窗口方法
   - 确保一致的用户体验

3. **main.js**:
   - 增强的启动提示信息
   - 开发模式自动功能

### 最佳实践
1. **开发模式**: 始终使用 `npm run dev`
2. **窗口管理**: 让开发者工具窗口独立运行
3. **性能优化**: 关闭开发者工具进行性能测试
4. **错误调试**: 利用所有开发者工具面板功能

## 注意事项

- 开发者工具窗口会在屏幕右侧显示
- 可以手动拖拽调整开发者工具窗口位置
- 主窗口和开发者工具窗口状态同步
- 只在开发模式下可用，确保生产环境安全

现在您应该能够正常使用开发者工具查看所有控制台输出，不会有任何界面遮挡问题！